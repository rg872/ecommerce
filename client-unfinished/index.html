<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Warung-pedia</title>    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
    <link rel="stylesheet" href="./styles/index.css">

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <script src="./js/list-item.js"></script>
    <script src="./js/header.js"></script>       
</head>

<body>
    
    <div id="app">
        <!-- header -->
        <div class="header" id="cart_shower">
            <div class="header-left">
                <img class="header-item" id="brand-logo" src="https://d30y9cdsu7xlg0.cloudfront.net/png/53360-200.png">
                <p class="header-item">Warung-pedia</p>
            </div>
            <div class="header-right">
                <img class="header-item" id="cart-logo" src="http://www.gallotti.luxury/wp-content/uploads/2017/07/Shopping_icons_1_Converted-14-512.png" data-toggle="modal" data-target="#cartModal">
                <button type="button" id="masuk" class="btn btn-success">Masuk</button>
            </div>
    
            <!-- modal -->
            <!-- <div class="modal fade" id="cartModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">Kantong Belanja</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <div v-if="cart.length > 0">
                            <ul class="list-group">
                                <li class="list-group-item" v-for="item in cart">
                                    <div class="row">
                                        <div class="col-2">
                                            <img id="cart_item_image" v-bind:src="item.item_image">
                                        </div>
                                        <div id="cart_item_info" class="col-3 d-flex">
                                            <p>{{ item.item_name }}</p>
                                            <p>{{ item.shop_name }}</p>
                                        </div>
                                        <div class="col-2">
                                            <input type="number" min="1" v-model="item.item_quantity">
                                        </div>
                                        <div class="col-5 justify-content-end flex-wrap">
                                            <p>Price : {{ itemTotalPrice(item)}}</p>
                                            <button v-on:click="deleteItem(item)">DELETE</button> 
                                        </div>
                                    </div>                         
                                </li>
                                <li v-if="cart.length > 0" class="list-group-item">Total Price: {{ totalPrice() }}</li>
                            </ul>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Tutup</button>
                      <button type="button" class="btn btn-primary">Bayar</button>
                    </div>
                  </div>
                </div>
              </div> -->
        </div>
    
        <!-- navbar -->
    
        <nav class="navbar navbar-expand-lg navbar-light bg-light d-none d-sm-none d-md-none d-lg-block d-xl-block">
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav justify-content-around w-100">
                <li class="nav-item dropdown">
                    <li class="nav-item active">
                        <a class="nav-link" href="#">Cari Warung</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Mendaftar Warung</a>
                    </li>
                    <form class="form-inline my-2 my-lg-0">
                        <input class="form-control mr-sm-2" type="search" placeholder="Nama warung" aria-label="Search">
                        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
                    </form>
                </ul>
            </div>
        </nav>
    
        <div class="pos-f-t d-block d-sm-block d-md-block d-lg-none d-xl-none">
                <div class="collapse" id="navbarToggleExternalContent">
                  <div class="bg-light p-4">
                    <ul class="list-inline d-flex justify-content-around w-100">
                        <li class="list-inline-item">
                            <a class="nav-link" href="#">Cari Warung</a>
                        </li>
                        <li class="list-inline-item">
                            <a class="nav-link" href="#">Mendaftar Warung</a>
                        </li>
                        <li class="list-inline-item">
                            <form class="form-inline my-2 my-lg-0">
                                <input class="form-control mr-sm-2" type="search" placeholder="Nama warung" aria-label="Search">
                                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
                            </form>
                        </li>                    
                    </ul>
                  </div>
                </div>
                <nav class="navbar navbar-light bg-light">
                  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                  </button>
                </nav>
              </div>
    
        <!-- list of items -->
    
        <list-item></list-item>
    </div>    

    <script>
        new Vue({
            el:'#app'
        })

        // let cartObj = new Vue({
        //     el:'#cart_shower',
        //     data: {               
        //         cart: []
               
        //     },
        //     methods: {
        //         itemTotalPrice: function(item){
        //             item.item_total_price =  item.item_price * item.item_quantity;
        //             return item.item_total_price;
        //         },

        //         totalPrice : function(){
        //             total = this.cart.reduce((total, cur_item)=>{
        //                 return total + cur_item.item_total_price;
        //             },0)

        //             return total;
        //         },

        //         deleteItem: function(item){
        //             var index = this.cart.indexOf(item);
        //             if (index !== -1) this.cart.splice(index, 1);
        //         }
        //     }
        // })

        // let itemsObj = new Vue({
        //     el:'#item_shower',
        //     data: {
        //        types: ['Gorengan', 'Jajanan', 'Minuman', 'Rokok', 'Yang lain'],
        //        items:[
        //            {    
        //                item_id: 1,
        //                item_name: 'Tahu Goreng',
        //                shop_name: 'Warung Pak Doni',
        //                item_type: 'Gorengan',
        //                item_desc: 'Tahu terlezat di Kedoya',
        //                item_price: 2000,
        //                item_image: 'https://www.khasiat.co.id/wp-content/uploads/2017/04/Tahu-Goreng.jpg',
        //                item_quantity: 1,
        //                item_total_price: 2000

                   
        //            },{
        //                item_id: 2, 
        //                item_name: 'Rokok MLD',
        //                shop_name: 'Warung Mba Tina',
        //                item_type: 'Rokok',
        //                item_desc: 'Pria punya selera',
        //                item_price: 21000,
        //                item_image: 'https://4.bp.blogspot.com/-QynHKKeliiM/WL6VJlqcPZI/AAAAAAAABoc/vltmBQnAbj0Uhds29Srmfrb0UMQgzBswACLcB/s1600/20170306_161651.jpg',
        //                item_quantity: 1,
        //                item_total_price: 21000
                   
        //            },{
        //                item_id: 3,
        //                item_name: 'Permen Milkita',
        //                shop_name: 'Warung Mba Sinta',
        //                item_type: 'Jajanan',
        //                item_desc: '5 permen milkita sama dengan 1 gelas susu loh !!!',
        //                item_price: 1500,
        //                item_image: 'https://ecs7.tokopedia.net/img/cache/300/product-1/2015/9/11/595690/595690_a404e801-0993-4f49-a014-4658cd99e3c6.jpg',
        //                item_quantity: 1,
        //                item_total_price: 1500
                   
        //            },{
        //                item_id: 4,
        //                item_name: 'Lem Aica-Aibon',
        //                shop_name: 'Warung Mba Sinta',
        //                item_type: 'Yang lain',
        //                item_desc: 'Lekat selekat cinta aku ke kamu',
        //                item_price: 2500,
        //                item_image: 'https://ecs7.tokopedia.net/img/cache/300/product-1/2016/12/15/14555147/14555147_e096f2af-22e8-48be-be99-1249bd861247_612_816.jpg',
        //                item_quantity: 1,
        //                item_total_price: 2500
                   
        //            },{
        //                item_id: 5,
        //                item_name: 'Cireng Ranjau',
        //                shop_name: 'Warung Pak Toni',
        //                item_type: 'Gorengan',
        //                item_desc: 'KABOOOMMM !!!',
        //                item_price: 2000,
        //                item_image: 'https://img-global.cpcdn.com/003_recipes/d671adbe343a626d/1200x630cq70/photo.jpg',
        //                item_quantity: 1,
        //                item_total_price: 2000
                   
        //            },{
        //                item_id: 6,
        //                item_name: 'Permen Nano-Nano',
        //                shop_name: 'Warung Pak Dermawan',
        //                item_type: 'Jajanan',
        //                item_desc: 'Permen naon-naon, rame rasanya',
        //                item_price: 2500,
        //                item_image: 'http://2.bp.blogspot.com/-_kmNlD1WvNQ/Vbxvwir0JZI/AAAAAAAADPc/qNoNyUVWVBM/s1600/Nano%2BNao.jpg',
        //                item_quantity: 1,
        //                item_total_price: 2500
                   
        //            },{
        //                item_id: 7,
        //                item_name: 'Sendal Swallow',
        //                shop_name: 'Warung Pak Dermawan',
        //                item_type: 'Yang lain',
        //                item_desc: 'Sendal paling populer seantero indonesia',
        //                item_price: 7500,
        //                item_image: 'https://superherru.files.wordpress.com/2017/12/sandal.jpg?w=760',
        //                item_quantity: 1,
        //                item_total_price: 7500
                   
        //            },{
        //                item_id: 8,
        //                item_name: 'Energen Cereal',
        //                shop_name: 'Warung Mba Tirta',
        //                item_type: 'Minuman',
        //                item_desc: 'Sarapan enggak perlu ribet, kan udah ada energen',
        //                item_price: 2000,
        //                item_image: 'https://media.karousell.com/media/photos/products/2016/10/30/energen_cereal_drink_milk_1477808556_c57870bc.jpg',
        //                item_quantity: 1,
        //                item_total_price: 2000
                   
        //            },
        //            ]
               
        //     }, 
        //     methods: {
        //         toRp: function (item_price){
        //             return 'Rp ' + item_price;
        //         },

        //         addToCart: function(item) {                    
        //             const foundId = cartObj._data.cart.find((i) => item.item_id === i.item_id);
        //             (foundId) ? '' : cartObj._data.cart.push(item);
        //         }
        //     }
        // })
    </script>

</body>

</html>